var gdjs;(function(r){let d;(function(m){const u=GlobalPIXIModule.PIXI,s=new r.Logger("Tilemap object");class p{constructor(e){this._instanceContainer=e,this._manager=new TileMapHelper.TileMapManager}static getManager(e){return e.tileMapCollisionMaskManager||(e.tileMapCollisionMaskManager=new p(e)),e.tileMapCollisionMaskManager}getOrLoadTileMap(e,t,a,n){this._manager.getOrLoadTileMap(this._loadTileMap.bind(this),e,t,a,pako,n)}getOrLoadTextureCache(e,t,a,n,l,i){this._manager.getOrLoadTextureCache(this._loadTileMap.bind(this),e,t,a,n,l,i)}_loadTileMap(e,t,a){this._instanceContainer.getGame().getJsonManager().loadJson(e,(n,l)=>{if(n){s.error("An error happened while loading a Tilemap JSON data:",n),a(null);return}const i=TileMapHelper.TileMapManager.identify(l);if(!i){a(null);return}i.kind==="tiled"&&t?this._instanceContainer.getGame().getJsonManager().loadJson(t,(o,T)=>{if(o){s.error("An error happened while loading Tileset JSON data:",o),a(null);return}const M=i.data,g=T;g.firstgid=M.tilesets[0].firstgid,M.tilesets=[g],a(i)}):a(i)})}}m.TileMapRuntimeManager=p})(d=r.TileMap||(r.TileMap={}))})(gdjs||(gdjs={}));
//# sourceMappingURL=TileMapRuntimeManager.js.map
